<form #form="ngForm" nz-form>
    <nz-timeline>
        <nz-timeline-item *ngFor="let item of history">{{item.date + '安装数量' + item.demandQuantity}}</nz-timeline-item>
    </nz-timeline>
    <nz-form-item nz-row>
        <nz-form-label nz-col [nzSm]="6" [nzXs]="24">
            <nz-form-label for="quantity" nzRequired>需求数量</nz-form-label>
        </nz-form-label>
        <nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
            <nz-input-number
                style="width: 100%"
                [(ngModel)]="dto.quantity"
                nzPlaceHolder="'您最多可以输入' + max"
                [nzDisabled]="max === 0"
                name="quantity"
                nzSize="default"
                [nzStep]="1"
                [nzMax]="max"
                required></nz-input-number>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item nz-row>
        <nz-form-label nz-col [nzSm]="6" [nzXs]="24">
            <nz-form-label for="demandDate" nzRequired>需求时间</nz-form-label>
        </nz-form-label>
        <nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
            <nz-date-picker
                style="width: 100%"
                [(ngModel)]="productDemandService.date"
                name="demandDate"
                nzSize="default"></nz-date-picker>
            
            <!-- <nz-month-picker
                *ngIf="fixPlanType === 2"
                style="width: 100%"
                [(ngModel)]="productDemandService.date"
                [nzFormat]="'YYYY-MM'"
                name="demandStartDate"
                nzSize="default"></nz-month-picker> -->
        </nz-form-control>
    </nz-form-item>
    <!-- <nz-form-item nz-row>
        <nz-form-label nz-col [nzSm]="6" [nzXs]="24">
            <nz-form-label for="priority" nzRequired>优先级</nz-form-label>
        </nz-form-label>
        <nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
            <nz-select
                name="departmentId"
                placeholder="请选择"
                [(ngModel)]="dto.priority"
                nzSize="default"
                required>
                <nz-option
                    *ngFor="let o of productDemandPriority | enumToArray"
                    [nzLabel]="o.label"
                    [nzValue]="o.value">
                </nz-option>
            </nz-select>
        </nz-form-control>
    </nz-form-item> -->
    <div class="customize-footer">
        <button [disabled]="form.form.invalid" (click)="ok()" nz-button [nzType]="'primary'" [nzLoading]="submitting">
            确定
        </button>
        <button nz-button [nzType]="'default'" (click)="cancel()">
            取消
        </button>
    </div>
</form>